window.Eurus.loadedScript.includes("gift-card-recipient.js")||(window.Eurus.loadedScript.push("gift-card-recipient.js"),requestAnimationFrame((()=>{document.addEventListener("alpine:init",(()=>{Alpine.data("xGiftCardRecipent",((e,t,s,a,i)=>({showForm:!1,recipient_control:"if_present",validateEmail:{show:!0,message:""},validateDate:{show:!1,message:""},disabled:!0,init(){this.$refs.timezone_offset.value=(new Date).getTimezoneOffset().toString()},onChange(){this.$refs.recipient_checkbox.checked?(this.showForm=!0,this.recipient_control="on",this.$el.closest(".button-product").querySelector(".add_to_cart_button").disabled=!0):(this.showForm=!1,this.recipient_control="if_present",this.$el.closest(".button-product").querySelector(".add_to_cart_button").disabled=!1),this.setForm()},onChangeInput(){if("email"==this.$el.type){""===this.$el.value?this.validateEmail={show:!0,message:t}:this.$el.value.match(/^[0-9a-z]+(?:\.[0-9a-z]+)*@[a-z0-9]{2,}(?:\.[a-z]{2,})+$/)?this.validateEmail={show:!1,message:""}:this.validateEmail={show:!0,message:s}}"date"==this.$el.type&&(new Date>new Date(this.$el.value)||new Date(this.$el.value)>new Date(Date.now()+7776e6)?this.validateDate={show:!0,message:a}:this.validateDate={show:!1,message:""}),this.validateDate.show||this.validateEmail.show?this.$el.closest(".button-product").querySelector(".add_to_cart_button").disabled=!0:this.$el.closest(".button-product").querySelector(".add_to_cart_button").disabled=!1},setForm(){document.getElementById(`recipient-form-${e}`).querySelectorAll(".recipient_input").forEach((e=>{e.value=""})),this.$refs.recipient_error_message.classList.add("hidden"),this.validateDate={show:!1,message:""},this.validateEmail={show:!0,message:""}},handleShowResult(){Object.entries(i).forEach((([e,t])=>{"email"==e&&(this.validateEmail={show:!0,message:t[0]}),"send_on"==e&&(this.validateDate={show:!0,message:t[0]})}))}})))}))})));
