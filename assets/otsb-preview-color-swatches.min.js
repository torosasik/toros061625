(()=>{var b=(d,m,r)=>({currentVariantCard:"",isSelect:!1,productId:r,showOptions:!1,init(){document.addEventListener(`eurus:product-card-variant-select:updated:${d}`,a=>{this.checkVariantSelected(),this.currentVariantCard=a.detail.currentVariant,this.options=a.detail.options})},checkVariantSelected(){Array.from(document.querySelectorAll(`#variant-update-${d} fieldset`)).findIndex(o=>!o.querySelector("input:checked"))===-1&&(this.isSelect=!0)}}),v={onChangeVariant:function(d,m,r,a,o,g=!1){},updateImage:function(d,m,r,a,o,g,l){let e=d.closest(".card-product"),c=m+`?variant=${a}`;if(!e)return;let u=e.getElementsByClassName("link-product-variant");for(var n=0;n<u.length;n++)u[n].setAttribute("href",c);let p=e.querySelector(".current-variant");p&&!g&&(p.innerText=a);let s=e.querySelector(".x-splide");(r==""||r===void 0||r===null)&&s?.splide?.go?.(0);let t=e.querySelector(`[media="${r}"]`);if(t){let f=t.getAttribute("index");if(s){s.splide?s.splide.go(Number(f)):document.addEventListener(`eurus:${o}:splide-ready`,()=>{s.splide.go(Number(f))});return}}let i=e.getElementsByClassName("preview-img")[0];i&&(l&&i.setAttribute("srcset",l),i.setAttribute("src",r),s?.splide?.go?.(0))}};window.otsb.loadedScript.includes("preview-color-swatches")||document.addEventListener("alpine:init",()=>{Alpine.data("xProductCard",b),Alpine.store("xPreviewColorSwatch",v)});})();
