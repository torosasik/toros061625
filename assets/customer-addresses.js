requestAnimationFrame((()=>{window.Eurus.bind=function(e,t){return function(){return e.apply(t,arguments)}},window.Eurus.setSelectorByValue=function(e,t){for(var n=0,i=e.options.length;n<i;n++){var r=e.options[n];if(t==r.value||t==r.innerHTML)return e.selectedIndex=n,n}},window.Eurus.addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},window.Eurus.postLink=function(e,t){var n=(t=t||{}).method||"post",i=t.parameters||{},r=document.createElement("form");for(var o in r.setAttribute("method",n),r.setAttribute("action",e),i){var d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name",o),d.setAttribute("value",i[o]),r.appendChild(d)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)},window.Eurus.CountryProvinceSelector=function(e,t,n){this.countryEl=document.getElementById(e),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(n.hideElement||t),window.Eurus.addListener(this.countryEl,"change",window.Eurus.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},window.Eurus.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");window.Eurus.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&this.provinceEl.options.length>0&&window.Eurus.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=(r=this.countryEl.options[this.countryEl.selectedIndex]).getAttribute("data-provinces"),n=xParseJSON(t);if(this.clearOptions(this.provinceEl),n&&0==n.length)this.provinceContainer.style.display="none";else{for(var i=0;i<n.length;i++){var r;(r=document.createElement("option")).value=n[i][0],r.innerHTML=n[i][1],this.provinceEl.appendChild(r)}this.provinceContainer.style.display=""}},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(e,t){for(var n=0;n<t.length;n++){var i=document.createElement("option");i.value=t[n],i.innerHTML=t[n],e.appendChild(i)}}},document.addEventListener("alpine:init",(()=>{Alpine.data("xCustomerAddresses",(()=>({activeAddEditFormIds:[],init(){this._setupCountries()},handleAddEdit(e){this.activeAddEditFormIds.includes(e)||this.activeAddEditFormIds.push(e)},handleCancel(e){let t=this.activeAddEditFormIds.indexOf(e);-1!==t&&this.activeAddEditFormIds.splice(t,1)},handleDelete(){confirm(this.$el.getAttribute("data-confirm-message"))&&window.Eurus.postLink(this.$el.dataset.target,{parameters:{_method:"delete"}})},_setupCountries(){window.Eurus&&window.Eurus.CountryProvinceSelector&&(new window.Eurus.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.$el.querySelectorAll("[data-address-country-select]").forEach((e=>{const t=e.dataset.formId;new window.Eurus.CountryProvinceSelector(`AddressCountry_${t}`,`AddressProvince_${t}`,{hideElement:`AddressProvinceContainer_${t}`})})))}})))}))}));
