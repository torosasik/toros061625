window.Eurus.loadedScript.includes("preview-color-swatches.js")||(window.Eurus.loadedScript.push("preview-color-swatches.js"),requestAnimationFrame((()=>{document.addEventListener("alpine:init",(()=>{Alpine.data("xProductCard",((e,t,r)=>({currentVariantCard:"",isSelect:!1,productId:r,showOptions:!1,init(){document.addEventListener(`eurus:product-card-variant-select:updated:${e}`,(e=>{this.checkVariantSelected(),this.currentVariantCard=e.detail.currentVariant,this.options=e.detail.options}))},checkVariantSelected(){"-1"==[...document.querySelectorAll(`#variant-update-${e} fieldset`)].findIndex((e=>!e.querySelector("input:checked")))&&(this.isSelect=!0)}}))),Alpine.store("xPreviewColorSwatch",{onChangeVariant(e,t,r,a,i){document.addEventListener(`eurus:product-card-variant-select:updated:${i}`,(n=>{null==n.detail.currentVariant&&this.updateImage(e,t,r,a,i)}))},updateImage(e,t,r,a){const i=e.closest(".card-product");let n=t+`?variant=${a}`;if(!i)return;const c=i.getElementsByClassName("link-product-variant");for(var s=0;s<c.length;s++)c[s].setAttribute("href",n);if(""!=r){const e=i.getElementsByClassName("preview-img")[0];if(!e)return;e.removeAttribute("srcset"),e.setAttribute("src",r)}const d=i.querySelector(".current-variant");d&&(d.innerText=a)}})}))})));
