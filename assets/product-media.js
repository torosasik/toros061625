window.Eurus.loadedScript.includes("product-media.js")||(window.Eurus.loadedScript.push("product-media.js"),requestAnimationFrame((()=>{document.addEventListener("alpine:init",(()=>{Alpine.data("xProductMedia",(e=>({thumbnailOnMouseDown:!1,thumbnailOfset:0,thumbnailScrollOfset:0,thumbnailGrabbingClass:"",zoomIsOpen:!1,productMediaIsOpen:"",videoExternalListened:!1,thumbnailHandleMouseDown(t){this.thumbnailOnMouseDown=!0,this.thumbnailGrabbingClass="cursor-grabbing","horizontal"==e.thumbnail_direction?(this.thumbnailOfset=t.pageX-this.$refs.thumbnail.offsetLeft,this.thumbnailScrollOfset=this.$refs.thumbnail.scrollLeft):(this.thumbnailOfset=t.pageY-this.$refs.thumbnail.offsetTop,this.thumbnailScrollOfset=this.$refs.thumbnail.scrollTop)},thumbnailHandleMouseMove(t){if(this.thumbnailOnMouseDown)if(t.preventDefault(),"horizontal"==e.thumbnail_direction){const e=2*(t.pageX-this.$refs.thumbnail.offsetLeft-this.thumbnailOfset);this.$refs.thumbnail.scrollLeft=this.thumbnailScrollOfset-e}else{const e=2*(t.pageY-this.$refs.thumbnail.offsetTop-this.thumbnailOfset);this.$refs.thumbnail.scrollTop=this.thumbnailScrollOfset-e}},thumbnailHandleMouseLeave(){this._thumbnailRemoveGrabing()},thumbnailHandleMouseUp(){this._thumbnailRemoveGrabing()},_thumbnailRemoveGrabing(){this.thumbnailOnMouseDown=!1,this.thumbnailGrabbingClass="md:cursor-grab"},zoomOpen(t){this.zoomIsOpen=!0,Alpine.store("xPopup").open=!0,setTimeout((()=>{document.getElementById(t+"-image-zoom-"+e.section_id).scrollIntoView()}),10),Alpine.store("xModal").activeElement="product-image-"+e.section_id+"-"+t},zoomClose(){this.zoomIsOpen=!1,Alpine.store("xPopup").open=!1},videoHandleIntersect(){e.video_autoplay&&Alpine.store("xVideo").play(this.$el)},productModelInit(){window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:this._productModelSetupShopifyXR}])},_productModelSetupShopifyXR(){const e=()=>{document.querySelectorAll('[id^="ProductJSON-"]').forEach((e=>{window.ShopifyXR.addModels(JSON.parse(e.textContent)),e.remove()})),window.ShopifyXR.setupXRElements()};window.ShopifyXR?e():document.addEventListener("shopify_xr_initialized",(()=>{e()}))},productModelLoadMedia(){let e=this.$el.parentNode;const t=document.createElement("div");t.appendChild(e.querySelector("template").content.firstElementChild.cloneNode(!0)),this.$el.classList.add("hidden"),e.appendChild(t.querySelector("model-viewer")),this._productModelLoadViewerUI()},productModelPauseViewer(){this.$el.modelViewerUI&&this.$el.modelViewerUI.pause()},_productModelLoadViewerUI(){window.Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:this._productModelSetupViewerUI.bind(this)}])},_productModelSetupViewerUI(e){e||(this.$el.parentNode.modelViewerUI=new Shopify.ModelViewerUI(this.$el.parentNode.querySelector("model-viewer")))}})))}))})));
